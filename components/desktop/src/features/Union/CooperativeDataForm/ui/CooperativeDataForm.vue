<template lang="pug">
div
  Form(:handler-submit="saveData" :showCancel="false" :button-cancel-txt="'–û—Ç–º–µ–Ω–∏—Ç—å'" :button-submit-txt="'–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å'" @cancel="clear").q-gutter-md
    q-input(standout="bg-teal text-white" hint="domovoy.com –∏–ª–∏ coop.domovoy.com" label="–î–æ–º–µ–Ω –∏–ª–∏ –ø–æ–¥–¥–æ–º–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞" v-model="connectionAgreement.formData.announce" :rules="[val => notEmpty(val), val => isDomain(val)]")

    q-input(standout="bg-teal text-white" hint="100 RUB" label="–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å –¥–ª—è —Ñ–∏–∑–ª–∏—Ü –∏ –ò–ü" v-model="connectionAgreement.formData.initial" type="number" :min="0" :rules="[val => notEmpty(val)]")
      template(#append)
        span.text-overline RUB

    q-input(standout="bg-teal text-white" label="–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–∞–µ–≤—ã–π –≤–∑–Ω–æ—Å –¥–ª—è —Ñ–∏–∑–ª–∏—Ü –∏ –ò–ü" hint="300 RUB" v-model="connectionAgreement.formData.minimum" type="number" :min="0" :rules="[val => notEmpty(val)]")
      template(#append)
        span.text-overline RUB

    q-input(standout="bg-teal text-white" hint="1000 RUB" label="–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π" v-model="connectionAgreement.formData.org_initial" type="number" :min="0" :rules="[val => notEmpty(val)]")
      template(#append)
        span.text-overline RUB

    q-input(standout="bg-teal text-white" hint="3000 RUB" label="–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–∞–µ–≤—ã–π –≤–∑–Ω–æ—Å –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π" v-model="connectionAgreement.formData.org_minimum" type="number" :min="0"  :rules="[val => notEmpty(val)]")
      template(#append)
        span.text-overline RUB
</template>
<script lang="ts" setup>
import { Form } from 'src/shared/ui/Form';
import { notEmpty, isDomain } from 'src/shared/lib/utils';
import { useConnectionAgreementStore } from 'src/entities/ConnectionAgreement';


const emit = defineEmits(['continue'])

const connectionAgreement = useConnectionAgreementStore()

// –î–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Å—Ç–æ—Ä–∞ (—É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏)

const clear = () => {
  emit('continue')
}

// eslint-disable-next-line @typescript-eslint/no-unused-vars
const saveData = async (e?: Event) => {
  console.log('üì§ CooperativeDataForm: –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã:', connectionAgreement.formData)
  // –î–∞–Ω–Ω—ã–µ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Å—Ç–æ—Ä–µ –Ω–∞–ø—Ä—è–º—É—é
  emit('continue', connectionAgreement.formData)
}
</script>
