# Приложения к договорам УХД

## Бизнес-процесс

### Общая схема
1. **Основной договор УХД** - пайщик подписывает общий договор участия в хозяйственной деятельности
2. **Приложения к проектам** - для участия в конкретном проекте пайщик должен подписать отдельное приложение

### Процесс создания приложения

1. **Создание заявки** (`createappndx`)
   - Приложение создает заявку на подписание приложения к договору УХД
   - Проверяется наличие основного договора УХД у пайщика
   - Проверяется отсутствие уже подписанного приложения для данного проекта
   - Создается временная запись в таблице `appendixes`
   - Заявка отправляется на рассмотрение председателю

2. **Рассмотрение председателем**
   - Председатель рассматривает заявку через контракт совета
   - Принимает решение: одобрить или отклонить

3. **Обработка решения**
   
   **При одобрении** (`apprvappndx`):
   - `project_hash` добавляется в вектор `contributor.appendixes`
   - Временная запись удаляется из таблицы `appendixes`
   - Пайщик получает право участвовать в проекте
   
   **При отклонении** (`dclineappndx`):
   - Временная запись удаляется из таблицы `appendixes`
   - Пайщик не получает право участвовать в проекте

### Проверка прав участия

При выполнении операций (создание коммитов, инвестиций, выводов) система проверяет:
1. Наличие основного договора УХД (`contributor.status == "authorized"`)
2. Наличие подписанного приложения для проекта (`project_hash` в `contributor.appendixes`)

### Структуры данных

- **`contributor.appendixes`** - вектор хэшей проектов с одобренными приложениями
- **`appendixes`** - временная таблица для хранения заявок на рассмотрении
