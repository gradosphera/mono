/**
 * @defgroup public_capital_level_up_notification_process –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
 * @ingroup public_capital_processes
 * 
 * –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–º 
 * –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤ —Å–∏—Å—Ç–µ–º–µ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏.
 * 
 * ## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
 * 
 * –ö–æ–≥–¥–∞ —ç–Ω–µ—Ä–≥–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 100%, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ 
 * –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç inline action —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:
 * - –§–∏–∫—Å–∏—Ä—É–µ—Ç —Ñ–∞–∫—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –±–ª–æ–∫—á–µ–π–Ω–∞
 * - –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
 * - –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∏ –Ω–æ–≤–æ–º —É—Ä–æ–≤–Ω–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
 * 
 * \htmlonly
 * <div class="mermaid">
 * sequenceDiagram
 *     participant Contributor
 *     participant Capital_Contract
 *     participant External_System
 *     
 *     Note over Contributor: –í–Ω–æ—Å–∏—Ç –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç
 *     Contributor->>Capital_Contract: –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏–µ–º–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
 *     Capital_Contract->>Capital_Contract: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
 *     
 *     alt –≠–Ω–µ—Ä–≥–∏—è >= 100%
 *         Capital_Contract->>Capital_Contract: level += 1<br/>energy = 0
 *         Capital_Contract->>Capital_Contract: inline action: lvlnotify
 *         Capital_Contract->>External_System: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–µ—Ä–µ—Ö–æ–¥–µ —É—Ä–æ–≤–Ω—è
 *         External_System->>Contributor: Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ<br/>"–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ù–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å!"
 *     end
 * </div>
 * \endhtmlonly
 * 
 * ## –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
 * 
 * ### –®–∞–≥ 1: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ —É—Ä–æ–≤–Ω—è
 * <b>–¢—Ä–∏–≥–≥–µ—Ä:</b> –§—É–Ω–∫—Ü–∏—è @ref Capital::Contributors::add_energy_and_check_levelup
 * 
 * –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —ç–Ω–µ—Ä–≥–∏–∏ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞:
 * ```cpp
 * if (energy >= 100.0) {
 *     level += 1;
 *     energy = 0.0;
 * }
 * ```
 * 
 * ### –®–∞–≥ 2: –û—Ç–ø—Ä–∞–≤–∫–∞ inline action
 * <b>–î–µ–π—Å—Ç–≤–∏–µ:</b> @ref capital::lvlnotify "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–µ—Ä–µ—Ö–æ–¥–µ —É—Ä–æ–≤–Ω—è"
 * 
 * –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç inline action —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
 * - `coopname` - –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤ —É—á–∞—Å—Ç–Ω–∏–∫–∞
 * - `username` - –∏–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞
 * - `prev_level` - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å
 * - `new_level` - –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
 * 
 * ### –®–∞–≥ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
 * <b>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:</b> –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
 * 
 * –í–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç:
 * 1. –°–ª—É—à–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ `lvlnotify` –≤ –∏—Å—Ç–æ—Ä–∏–∏ –±–ª–æ–∫—á–µ–π–Ω–∞
 * 2. –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
 * 3. –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
 * 4. –ù–∞—á–∏—Å–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã –∏–ª–∏ –Ω–∞–≥—Ä–∞–¥—ã
 * 
 * ## –î–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
 * 
 * | –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
 * |----------|-----|----------|
 * | `coopname` | name | –ö–æ–æ–ø–µ—Ä–∞—Ç–∏–≤, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–µ–ª –ø–µ—Ä–µ—Ö–æ–¥ |
 * | `username` | name | –£—á–∞—Å—Ç–Ω–∏–∫, –¥–æ—Å—Ç–∏–≥—à–∏–π –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è |
 * | `prev_level` | uint32_t | –ü—Ä–µ–¥—ã–¥—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ |
 * | `new_level` | uint32_t | –ù–æ–≤—ã–π –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å |
 * 
 * ## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
 * 
 * –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
 * 
 * ```typescript
 * // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ lvlnotify
 * contract.on('lvlnotify', async (data) => {
 *   const { coopname, username, prev_level, new_level } = data;
 *   
 *   // –û—Ç–ø—Ä–∞–≤–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
 *   await notificationService.send(username, {
 *     title: 'üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!',
 *     message: `–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ ${new_level} —É—Ä–æ–≤–Ω—è!`,
 *     type: 'level_up',
 *     data: { prev_level, new_level }
 *   });
 *   
 *   // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
 *   await achievementService.unlock(username, `level_${new_level}`);
 * });
 * ```
 * 
 * ## –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
 * 
 * –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:
 * 
 * 1. **–ü—Ä–∏ –ø—Ä–∏–µ–º–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
 *    - –£—á–∞—Å—Ç–Ω–∏–∫ –≤–Ω–æ—Å–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
 *    - –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∏ –∏ –≤–∫–ª–∞–¥—ã
 *    - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏—Ä–æ—Å—Ç —ç–Ω–µ—Ä–≥–∏–∏
 *    - –ï—Å–ª–∏ —ç–Ω–µ—Ä–≥–∏—è >= 100%, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥ —É—Ä–æ–≤–Ω—è
 * 
 * ## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
 * 
 * 1. **Inline action:** –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, 
 *    –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
 * 
 * 2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (_capital), 
 *    –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ –∏–∑–≤–Ω–µ –Ω–∞–ø—Ä—è–º—É—é.
 * 
 * 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é –±–ª–æ–∫—á–µ–π–Ω–∞ 
 *    –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∞—É–¥–∏—Ç–∞.
 * 
 * 4. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** –û–±—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ 
 *    –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.
 * 
 * @post 
 *  - –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–µ—Ä–µ—Ö–æ–¥–µ —É—Ä–æ–≤–Ω—è
 *  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞–ø–∏—Å–∞–Ω–∞ –≤ –∏—Å—Ç–æ—Ä–∏—é –±–ª–æ–∫—á–µ–π–Ω–∞
 *  - –í–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ
 * 
 * @see Capital::Contributors::add_energy_and_check_levelup
 * @see Capital::Contributors::update_gamification_from_segment
 */

