Добро пожаловать в раздел технической документации платформы MONO. Платформа MONO предназначена автоматизировать взаимоотношения между пайщиками и кооперативом в ["Кооперативной Экономике"](https://coopenomics.world), и предоставляет систему управления взаимоотношениями с пайщиками (SRM - Shareholder Relation Management).

Платформа MONO подключается к ["Кооперативной Экономике"](https://coopenomics.world), и предоставляет средства для автоматизированного сбора первичных документов, управления принятием решений членам совета кооператива, для генерации и цифровой подписи электронных документов, для просмотра и управления реестром пайщиков, платежей и всех произведенных документов кооператива. 

Кроме того, MONO позволяет расширять базовый функционал взаимоотношений с пайщиками с помощью расширений витринами или утилитами, где каждая витрина - это доступ пайщиков к целевой потребительской программе, принятой в кооперативе, а утилита - это средство автоматизации для руководства кооператива. 


<!-- 
## Как пользоваться документацией

Документация 

позволяя расширять базовый функционал цифровыми целевыми потребительскими программами чер. 


{{ get_sdk_doc("Mutations", "Accounts", "UpdateAccount") }}

{{ get_graphql_doc("Mutation.updateAccount") }}

## Назначение
Система предназначена автоматизировать документооборот в потребительских кооперативах посредством [кооперативных смарт-контрактов](/#-) и технологии блокчейн, реализующих принципы [методологии](/metodology) потребительской кооперации ["СПО РУСЬ"](https://союз-русь.рф/).   -->

<!-- Запуская программный комплекс Цифрового Кошелька и подключаясь к Кооперативной Экономике, вы поддерживаете создание справедливого мира единого сознания без ссудного процента и циклических кризисов перепроизводства долга. [Подробнее](/). -->

<!-- ## Компоненты
Ниже представлены ссылки на низкоуровневую техническую документацию. Данный раздел, как и сам продукт Цифрового Кошелька, находится в разработке, поэтому, финализация документации в этом разделе пока преждевременна.  -->

<!-- [Смарт-контракты](#){ .md-button .md-button--primary } [Блокчейн](#){ .md-button .md-button--primary } [API](#){ .md-button .md-button--primary } [Библиотека типов](#){ .md-button .md-button--primary } [Генератор документов](#){ .md-button .md-button--primary }  -->
<!-- 
<div class="grid cards" markdown>

-   __Операционная система__

    ---

    Документация к операционной системе coopOS, которая основана на блокчейне EOSIO & ANTELOPE.

    [:octicons-arrow-right-24: Подробнее](https://developers.eos.io)
    [:octicons-arrow-right-24: Репозиторий](https://github.com/coopenomics/blockchain)

-   __Смарт-контракты__

    ---

    Документация к кооперативным смарт-контрактам, реализующие протоколы целевых потребительских программ. 

    [:octicons-arrow-right-24: Подробнее](https://coopenomics.world/contracts)
    [:octicons-arrow-right-24: Репозиторий](https://github.com/coopenomics/contracts)

-   __Библиотека типов__

    ---

    Библиотека типов предоставит информацию о интерфейсах действий и таблиц смарт-контрактов.

    [:octicons-arrow-right-24: Подробнее](https://coopenomics.world/cooptypes)
    [:octicons-arrow-right-24: Репозиторий](https://github.com/coopenomics/cooptypes)


-   __Контроллер кооператива__

    ---

    Основной бэкенд-сервис, представляющий систему авторизации для доступа к документам кооператива и инструментам управления им. 

    [:octicons-arrow-right-24: Подробнее](/graphql)
    


</div> -->


<!-- 

## Архитектура доступа

Архитектура доступа к Цифровому Кооперативу принципиально состоит из двух слоёв: 

- Публичный слой хранит кооперативные смарт-контракты, аккаунты пользователей и свод программных правил бизнес-логики системы, написанные на языке C/C++. Бизнес логика смарт-контрактов едина для всех кооперативов системы и поставляется вместе с нодой блокчейна в процессе её синхронизации. Блокчейн не хранит никакую чувствительную личную информацию пользователей или кооперативов, а только лишь обезличенные и стандартизированные правила участия в кооперативной экономике. Авторизация производится посредством проверки прав доступа на основе цифровой подписи идентификатора аккаунта пользователя. 

- Приватный слой хранит личную информацию пользователей конкретных кооператива. Все кооперативы запускаются на выделенных серверах, где каждый кооператив контролирует свои данные самостоятельно, и никто кроме него не имеет доступа к его данным, если это не предусмотрено. В этом слое хранится реестр пайщиков, их заявлений и решений совета. Никто кроме совета не имеет доступа к этому хранилищу. Авторизация производится посредством проверки прав доступа на основе JWT-токена, извлекаемого из приватного ключа пользователя. 

Таким образом, для каждого пользователя в системе есть как минимум две точки авторизации и две базы данных. 


## Подготовка
Для того, чтобы начать работу с системой, вам потребуется подготовить соответствующее программное окружение. 


### Блокчейн 
Запуск блокчейна осуществляется посредством сборки из исходного кода репозитория или запуском контейнера. Запуск блокчейна может осуществляться в нескольких режимах для разных целей: 

- режим локального тестнета. Здесь запускается "чистый" блокчейн, в котором могут быть развернуты смарт-контракты для тестов. Эта сборка необходима разработчикам смарт-контрактов и делегатам, которые тестируют их перед обновлением согласно [протоколу](/protocols). 

- режим рабочей сети. Здесь запускается блокчейн для синхронизации с основной сетью. Режим используется делегатами для того, чтобы принимать участие в производстве блоков, а также, API-нодами, которые могут являться доверенными источниками данных для кооперативов. 

- режим тестовой сети. Режим аналогичен рабочей сети, только в любой момент сеть может быть перезагружена. Используется разработчикам для тестов в обход необходимости полной установки всех смарт-контрактов и их инициализации согласно протоколу. 


Мы здесь и далее будем рассматривать режим запуска локального тестнета в окружении операционной системы UBUNTU 22.04. Если вам требуется синхронизировать блокчейн с рабочей сетью или тестнетом, пожалуйста, обратитесь к [протоколу синхронизации](/protocol/sync) за дополнительными инструкциями.


__Запуск из контейнера__
Для запуска блокчейна из контейнера вам потребуется установленный [docker](https://docker.io). После установки для своей операционной системы, предварительно создаём папку для блокчейна, его конфига и данных: 
```
mkdir $HOME/blockchain
mkdir $HOME/blockchain/config
mkdir $HOME/blockchain/eosio-wallet

``` 
Создаём файл конфига
```
touch $HOME/blockchain/config/config.ini
```

И помещаем в него конфигурацию:
```
# подключаем плагины
plugin = eosio::chain_plugin
plugin = eosio::producer_plugin
plugin = eosio::chain_api_plugin
plugin = eosio::http_plugin
plugin = eosio::producer_api_plugin
plugin = eosio::state_history_plugin

# устанавливаем системного производителя блоков и его ключи
producer-name = eosio

# это стардартные ключи для локального тестнета
signature-provider = EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV=KEY:5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3

# включаем режим производства блоков
enable-stale-production = true

# устанавливаем предельное время исполнения транзакции в микросекундах
max-transaction-time = 300000
abi-serializer-max-time-ms = 30000
http-max-response-time-ms = 30000

# открываем порт для подключения командного кошелька
http-server-address = 0.0.0.0:8888

# подключаем вывод консоли контрактов в лог ноды
contracts-console = true

# подключаем трассировку истории состояния
trace-history = true
state-history-endpoint = 0.0.0.0:8080

```

После чего, производим запуск контейнера: 
```
docker run --name node -d -p 8888:8888 -p 8080:8080 \-v $HOME/blockchain/data:/mnt/dev/data \-v $HOME/blockchain/config:/mnt/dev/config \-v $HOME/blockchain/eosio-wallet:/root/eosio-wallet \dicoop/leap_v4.0.5 \/bin/bash -c '/usr/local/bin/nodeos -d /mnt/dev/data --config-dir /mnt/dev/config --disable-replay-opts'
```

В результате запуска, в логах контейнера вы увидите процесс производства блоков: 

![screen_blocks2.jpg](assets/screen_blocks2.jpg)



__Сборка из исходников__
Инструкция сборки из исходного кода описана в [репозитории](https://github.com/copenomics/blockchain). 



### Смарт-контракты
Для того, чтобы компилировать смарт-контракты, вам потребуется пакет [Contract Develpment Tools](https://github.com/copenomics/cdt). Его также можно установить из контейнера или собрать из исходников. 

__Запуск из контейнера__
Для запуска из контейнера создайте папку, в которой будут находится смарт-контракты:

```
mkdir $HOME/contracts
```

Выполните команду для запуска контейнера:
```
docker run -it --name cdt \
  --volume $HOME/contracts:/project \
  -w /project \
  dicoop/cdt_v4.1.0 /bin/bash
```

Теперь вы находитесь в контейнере и директории с вашими контрактами, которые можете компилировать. Подробнее о работе с контрактами и командным кошельком смотри соответствующий раздел. 

__Сборка из исходников__
Процесс сборки CDT из исходного кода описан в [репозитории](https://github.com/copenomics/cdt).


### Бэкенд
Для программной работы с любым кооперативом вам потребуется бэкенд-контроллер. Контроллер - это проприетарный программный комплекс, который распространяется по лицензии CC BY-NC-SA 4.0 для кооперативов, подключенных к системе. 

Если вы разрабатываете программное обеспечение для уже подключенного к системе кооператива, то запросите доступ к репозиторию контроллера у председателя или воспользуйтесь публичным контроллером тестового кооператива, который доступен для разработчиков по ссылке: https://docs.copenomics.world/controller. 

### Фронтенд
Для разработки фронтенда, вы можете использовать любой javascript-подобный фреймворк и подключить его с помощью прилагающихся библиотек к контроллеру и блокчейну. 

Мы поставляем проприетарное программное обеспечение мультиплатформенного терминала доступа на основе фреймворка QUASAR по лицензии CC BY-NC-SA 4.0 для кооперативов, подключенных к системе. 

Запросите доступ к репозиторию терминала у председателя действующего кооператива или воспользуйтесь начальным скелетоном для начала новой разработки по ссылке: https://github.com/copenomics/terminal-skeleton. 


### Кошелёк
Если Ваш кооператив уже подключен к системе, то у вас есть идентификатор кооператива и приватный ключ доступа, с помощью которого, мы уже можете начать строительство своего кооперативного приложения. Для этого, как минимум, вам необходимо инициализировать кошелёк с приватным ключом для подписи действий смарт-контрактов. 

Мы рекомендуем использовать ![SDK Wharfkit](https://wharfkit.com). 

Инструкция подготовки: 

```
import { Session } from "@wharfkit/session"
import { WalletPluginPrivateKey } from "@wharfkit/wallet-plugin-privatekey"

const args = {
  chain: {
    id: "73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d",
    url: "https://testnet.copenomics.world",
  },
  actor: "tester111111",
  permission: "active",
  walletPlugin: new WalletPluginPrivateKey(
    "5Jtoxgny5tT7NiNFp1MLogviuPJ9NniWjnU4wKzaX4t7pL4kJ8s"
  ),
}

const options = {
  // Additional options
}

const session = new Session(args, options)
```

Теперь вы можете применять сформированную сессию для отправки транзакций в любые смарт-контракты системы. Для чтения же информации из таблиц блокчейна вам потребуется ApiClient: 

```
import { APIClient } from "@wharfkit/antelope"

const client = new APIClient({
  url: "https://testnet.copenomics.world",
})
```

Теперь вы можете получать информацию о состоянии блокчейна и его таблиц: 
```
client.v1.chain.get_info().then((response) => {
  console.log(response)
})
```

Все доступные действия в смарт-контрактах и таблицах ЦК можно найти в пакете документации ![cooptypes](/cooptypes). Подробнее о том, как совершать транзакции и получать информацию из таблиц, смотри в документации ![wharfkit](https://wharfkit.com)


## Методы действий
Теперь, когда подготовка завершена, мы можем перейти к основной части - методам управления цифровым кооперативом. Начнём с самого начала. У Вас есть потребительский кооператив, который подключился к системе ![на сайте](/connect). 

### Совет
При подключении цифрового кооператива председателю и членам совета были выданы ключи и права доступа, с помощью которых они могут управлять кооперативом. Рассмотрим основные процессы управления. 

## Вход
Для того, чтобы иметь возможность совершать действия управления, членам совета, да и просто пайщикам, необходимо войти в бэкенд кооператива. Фронтенд обеспечивает вход автоматически, но поскольку эта документация для разработчиков и инженеров, то давайте детально рассмотрим процесс. 

При регистрации пайщику / члену совета / председателю был выдан идентификатор аккаунта и ключ доступа. Они, как пара, используются для входа в систему кооператива. 

## Получить повестку



## Администраторы

## Регистрация аккаунта

## Приём пайщика

## Получение таблиц

## Получение документов

## Получение истории

## Получение пользователей

## Получение повестки

## Голосование по вопросам

## Протокол собрания

## Общее собрание

## Создание кооперативного участка

## Управление

## Стать делегатом

 -->

<!-- - Регистрация пайщика
- Создать документ
- Восстановить документ
- Получить каталог документов
- 
 -->


<!-- 

Данная документация предоставляет техническое описание экосистемы Цифрового Кооператива. Экосистема базируется на технологиях блокчейна и смарт-контрактов, создавая стандартизированное окружение для ведения онлайн деятельности в соответствии с законодательством.

Цифровой Кооператив соединяет принципы кооперативного движения с возможностями блокчейн технологий. Стандартизированные смарт-контракты обеспечивают автоматизацию и прозрачность процессов, соответствуя нормам законодательства.

Подробнее о ЦЭ тут потом.

**Ключевые характеристики:**

- Прозрачность: Все операции внутри кооператива являются открытыми для проверки участниками.
- Стандартизация: Экосистема предоставляет унифицированные инструменты для работы, адаптируемые под различные нужды.
- Соответствие законам: Смарт-контракты разработаны с учетом требований законодательства.
- Открытый код: Экосистема включает в себя репозитории, обозреватели документов и маркетплейсы, делая цифровые решения доступными всем участникам.
- Цифровые подписи: Все операции подтверждаются и защищаются с помощью цифровых подписей, гарантируя их подлинность и безопасность.

... дополнить и развернуть

## Подключить кооператив

Вы можете подключить свой кооператив к платформе цифровой экономики. Для подключения, вам необходимо заполнить заявление на вступление у одного из верифицированных кооперативов на платформе:

!!! note "Список верифицированных регистраторов"

Подключение к цифровой экономике осуществляется с помощью веб-клиента (сайта, мобильного или десктопного приложения), которые поставляются кооперативами для кооперативов. Некоторые клиенты можно получить в маркетплейсе сразу после регистрации юридического лица на платформе:

[Открыть маркетплейс](#){ .md-button .md-button--primary }
 -->
